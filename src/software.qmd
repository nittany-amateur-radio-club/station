---
title: "Software"
format: html
---

::: {.callout-important}
These sections are generated by 

1. Downloading a database (Google Sheet located [here](https://docs.google.com/spreadsheets/d/1NqblEGvrP0aiqWkBTs1G_hA3oWTKcxh_-Kb_m7E4G70/edit?usp=sharing)) with the latest versions of the software packages installed on the NARC1 and NARC2 PCs. This is downloaded as a CSV.
2. Parsing the downloaded CSV data file in `include/csv/software_versions.csv`.

The code is hidden in the output for aesthetic reasons, but may be revealed by examining the source code file.
:::

## Set-up

Here is a link to the [Google Sheet](https://docs.google.com/spreadsheets/d/1NqblEGvrP0aiqWkBTs1G_hA3oWTKcxh_-Kb_m7E4G70/edit?usp=sharing) that W3TM maintains for tracking software version updates.
The following code downloads that file.

```{r}
#| echo: false
#| label: download-narc-software-version-tracker-file
#| message: false

if (!dir.exists('include/csv')) {
  message("Creating missing `include/csv/`.")
  dir.create("include/csv")
}

options(gargle_oauth_email = Sys.getenv("GMAIL_SURVEY"))
googledrive::drive_auth()

googledrive::drive_download(
  "narc-software-version-tracker",
  path = file.path("include/csv", "software_versions.csv"),
  type = "csv",
  overwrite = TRUE
  
)
```

Then, we import the downloaded data.

```{r}
#| echo: false
software_versions <- readr::read_csv("include/csv/software_versions.csv", show_col_types = FALSE)
```

## Operating System

```{r}
#| echo: false
software_versions |>
  dplyr::filter(type == "os") |>
  dplyr::select(station,software, version, date) |>
  knitr::kable(format = "html") 
```

## Digital modes

### NARC1

```{r}
#| echo: false
#| label: tbl-narc1-digital
software_versions |>
  dplyr::filter(type == "digital", station == "narc1") |>
  dplyr::select(software, version, date) |>
  dplyr::arrange(software) |>
  knitr::kable(format = "html") |>
  kableExtra::kable_material()
```

### NARC2

```{r}
#| echo: false
#| label: tbl-narc2-digital
software_versions |>
  dplyr::filter(type == "digital", station == "narc2") |>
  dplyr::select(software, version, date) |>
  dplyr::arrange(software) |>
  knitr::kable(format = "html") |>
  kableExtra::kable_material()
```

## Logging

### NARC1

```{r}
#| echo: false
#| label: tbl-narc1-logging
software_versions |>
  dplyr::filter(type == "logging", station == "narc1") |>
  dplyr::select(software, version, date) |>
  dplyr::arrange(software) |>
  knitr::kable(format = "html") |>
  kableExtra::kable_material()
```

### NARC2

```{r}
#| echo: false
#| label: tbl-narc2-logging
software_versions |>
  dplyr::filter(type == "logging", station == "narc2") |>
  dplyr::select(software, version, date) |>
  dplyr::arrange(software) |>
  knitr::kable(format = "html") |>
  kableExtra::kable_material()
```

See the separate chapter on [logging](logging.qmd) for details about how to interface digital logging programs.

### Networked logging

Special considerations are required for networked logging of the sort we often do for Field Day.
See details in the [chapter on logging](logging.qmd#networked-logging) and specifically @fig-narc1-n3fjp-networked-logging.

## Remote Control

### NARC1

```{r}
#| echo: false
#| label: tbl-narc1-remote
software_versions |>
  dplyr::filter(type == "remote", station == "narc1") |>
  dplyr::select(software, version, date) |>
  dplyr::arrange(software) |>
  knitr::kable(format = "html") |>
  kableExtra::kable_material()
```

### NARC2

```{r}
#| echo: false
#| label: tbl-narc2-remote
software_versions |>
  dplyr::filter(type == "remote", station == "narc2") |>
  dplyr::select(software, version, date) |>
  dplyr::arrange(software) |>
  knitr::kable(format = "html") |>
  kableExtra::kable_material()
```
